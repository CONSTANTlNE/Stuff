<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css"
    />
    <link rel="stylesheet" href="assets/styles.css" />
    <link rel="stylesheet" href="assets/prism.css" />

    <title>Tips and Tricks</title>

    <style>
      li {
        list-style: none;
        background-color: black;
      }

      span {
        color: red;
        font-weight: bold;
      }
      @media (max-width: 400px) {
        nav {
          flex-wrap: wrap;
          align-items: center;
        }
      }

      strong {
        color: brown;
      }
    </style>
  </head>
  <body>
    <nav style="display: flex; justify-content: space-evenly; font-size: 20px">
      <a href="./gggggg/COMPONENTS.html">Components</a>
      <a href="ui.html">UI Components</a>
      <a href="spatie.html">Spatie</a>
      <a href="index.html">Tips And Tricks</a>
    </nav>
<br>
    <main>
      
            <!-- ++++++++++++++++Tips++++++++++++++++++ -->
      <div class="tab-container">
        <div class="tab">
          <button class="tab-button" onclick="toggleTab('tab1')">
            Tips and tricks
            <span class="tab-indicator">&#9658;</span>
          </button>
<div class="tab-content" id="tab1">
      <div class="tab-container">
        <div class="tab">
          <button class="tab-button" onclick="toggleTab('tab98')">
            Foreach Tricks
            <span class="tab-indicator">&#9658;</span>
          </button>
<div class="tab-content" id="tab">



</div>
          </div>
        </div>
</div>
          </div>
        </div>

                    <!-- ++++++++++++++++VIEW COMPOSER++++++++++++++++++ -->

            <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab99')">
                  View Compoer Data to all Views
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab99">
<p>Create Provider</p>
<pre><code class="language-PHP">
  php artisan make:provider ComposerServiceProvider
</code></pre>

<p>Register the ServiceProvider: <br>
In the config/app.php file under the providers array:
</p>
            
<pre><code class="language-PHP">
'providers' => [
    // ...
    App\Providers\ComposerServiceProvider::class,
],

</code></pre>

<p>Register the View Composers: <br>
  In this example, when view1 is loaded, it will receive a dataForView1 variable, and when view2 is loaded, it will receive a dataForView2 variable.
</p>
<pre><code class="language-PHP">
  public function boot()
{
    // View composer for 'view1'
    view()->composer('view1', function ($view) {
        $dataForView1 = // Your data here;
        $view->with('dataForView1', $dataForView1);
    });

    // View composer for 'view2'
    view()->composer('view2', function ($view) {
        $dataForView2 = // Your data here;
        $view->with('dataForView2', $dataForView2);
    });

       // for All views
    view()->composer('*', function ($view) {
        $dataForViews = // Your data here;
        $view->with('dataForViews', $dataForViews);
    });

    // chek if authenticated and then return variable
      view()->composer('view_name', function ($view) {
      if (auth()->check()) {
          // User is authenticated, pass data to the view
          $userData = // Your user-specific data here;
          $view->with('userData', $userData);
      }
    });

    // or pass several data with compact

    
        view()->composer(['*'], function ($view) {
            $categories=Category::all();
            $skillname = SkillName::all();
            $projects  = Project::with('media','skillNames')->get();
            $permissions= Permission::all();
            $view->with(compact('categories', 'skillname', 'projects', 'permissions'));
        });
    }

}
</code></pre>

<p>(Auth::guard('web')->check()) allows you to be explicit about the guard you are checking, which can be useful in situations where you have multiple guards in your application (e.g., 'web' for web users and 'api' for API users) and need to specify which one you are checking. The second approach (auth()->check()) is more concise and is commonly used when working with the default 'web' guard.</p>

</div>
              </div>
            </div>



      <!-- +++++++++++++++++++++Artisan Commands+++++++++++++++++++++++++++ -->
            <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab101')">
                  Artisan Commands
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab101">
<p>Create Model Migration Controller Factory</p>
            <pre><code class="language-PHP">php artisan make:model Post -mcrf</code></pre>
<p>Create Model Migration Controller Factory Seeder Request</p>
            <pre><code class="language-PHP">php artisan make:model Post -a</code></pre>
<p>Chek Migration Status</p>
            <pre><code class="language-PHP">php artisan migrate:status</code></pre>
<p>Maintenance Mode - redirects to maintenance page</p>
            <pre><code class="language-PHP">php artisan down / php artisan up</code></pre>
<p>check current environment</p>
            <pre><code class="language-PHP">php artisan env</code></pre>
<p></p>
            <pre><code class="language-PHP"></code></pre>
<p></p>
            <pre><code class="language-PHP"></code></pre>
<p></p>
            <pre><code class="language-PHP"></code></pre>
<p></p>
            <pre><code class="language-PHP"></code></pre>

                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <!-- +++++++++++++++++++++TRaiTs+++++++++++++++++++++++++++ -->
            <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab5')">
                  Traits
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab5">
                            <div class="tab-container">
      <div class="tab">
        <button class="tab-button" onclick="toggleTab('tab6')">
  Create Traits
          <span class="tab-indicator">&#9658;</span>
        </button>
         <div class="tab-content" id="tab6">
    


      <p>
        In App folder create new folder with name Trait <br><br>

Create a PHP file within the Traits directory and define your trait within that file.
<br><br>
Add namespace to file : <br>

<strong>namespace App\Traits;</strong> 

<br><br>
You can use the trait in any class by simply adding the use statement within the class definition. For example:

      </p>

      <pre><code class="language-PHP">
// app/Models/User.php
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use App\Traits\AuthenticatableTrait;

class User extends Model {
    use AuthenticatableTrait;

    // Your user model code here
}
      </code></pre>
</div>
  </div>
      </div>


                <div class="tab-container">
      <div class="tab">
        <button class="tab-button" onclick="toggleTab('tab6')">
The Cacheable Trait
          <span class="tab-indicator">&#9658;</span>
        </button>
         <div class="tab-content" id="tab6">


      <p>
getCachedData is a method defined within the Cacheable trait.
It takes three parameters:
<br><br>
<strong>$key</strong>: A unique identifier for the cached data. <br>
<strong>$minutes</strong>: The number of minutes to cache the data.<br>
<strong>$callback</strong>: A closure or callback function that retrieves the data if it's not found in the cache.
      </p>

      <pre><code class="language-PHP">
trait Cacheable {

    public function getCachedData($key, $minutes, $callback) {
        return cache()->remember($key, $minutes, $callback);
    }
}
      </code></pre>


 <p>Using the Trait in a Controller:
  <br><br>

The PostController class uses the Cacheable trait with use Cacheable;. <br>
In the index method, it calls getCachedData to retrieve a cached list of posts.<br>
If the data is not found in the cache, it executes the provided closure (function() { return Post::all(); }) to fetch the data and then caches it for 60 minutes.
      </p>

      <pre><code class="language-PHP">
use App\Traits\Cacheable;

class PostController {
    use Cacheable;

    public function index() {
        $posts = $this->getCachedData('all_posts', 60, function() {
            return Post::all();
        });

        return view('posts.index', compact('posts'));
    }
}
      </code></pre>



      <h2>Clear Cached Data</h2>

   
      <p>
        After creating a new post using the create method, we use
        cache()->forget('all_posts') to remove the cached data associated with
        the 'all_posts' key. This effectively invalidates the cache entry.
        <br />
       <hr>
        The next time the index method is called, it will regenerate the cache
        by executing the provided closure (function() { return Post::all(); }),
        which fetches all posts from the database. This ensures that the list of
        posts includes the newly added post.
        <br /> <hr>
        By implementing cache invalidation in response to changes in your data
        (such as adding, updating, or deleting records), you can keep your
        cached data up to date and avoid displaying outdated information.
      </p>

      <pre><code class="language-PHP">
class PostController {
    use Cacheable;

    public function index() {
        $posts = $this->getCachedData('all_posts', 60, function() {
            return Post::all();
        });

        return view('posts.index', compact('posts'));
    }

    public function create() {
        // Logic to create a new post

        // Clear the cache for the 'all_posts' key to force a refresh
        cache()->forget('all_posts');

        return redirect()->route('posts.index');
    }
}
      </code></pre>

<hr><br>
</div>
  </div>
      </div>

<div class="tab-container">
      <div class="tab">
        <button class="tab-button" onclick="toggleTab('tab7')">
Useful trairs and Usage
          <span class="tab-indicator">&#9658;</span>
        </button>
         <div class="tab-content" id="tab7">



<p>
Image Manipulation Trait <br><br>

You can create a trait for image manipulation, allowing you to easily resize, crop, or perform other image operations. Here's a simplified example:


</p>

<pre><code class="language-PHP">
  trait ImageManipulation {
    public function resizeImage($width, $height) {
        // Logic to resize the image
    }

    public function cropImage($x, $y, $width, $height) {
        // Logic to crop the image
    }
}

class ProductController {
    use ImageManipulation;

    public function uploadImage(Request $request) {
        // Handle image upload

        // Manipulate the uploaded image
        $this->resizeImage(300, 200);
        $this->cropImage(50, 50, 200, 150);
    }
}

</code></pre>
<br>
<hr>
<br>
<p>Email Sending Trait <br><br>

Build a trait for sending emails with various email providers and templates:

</p>

<pre><code class="language-PHP">
trait EmailSending {
    public function sendEmail($to, $subject, $message) {
        // Logic to send an email using the selected email provider
    }

    public function sendWelcomeEmail($user) {
        $subject = "Welcome to our website!";
        $message = "Dear {$user->name}, welcome to our platform.";
        $this->sendEmail($user->email, $subject, $message);
    }
}

class UserController {
    use EmailSending;

    public function register(Request $request) {
        // Handle user registration

        // Send a welcome email
        $this->sendWelcomeEmail($user);
    }
}
</code></pre>
<br>
<hr>
<br>
<p>Activity Log Trait<br><br>

Create a trait for logging activities within your application:
</p>

<pre><code class="language-PHP">
trait ActivityLog {
    public function logActivity($action, $details) {
        Activity::create([
            'action' => $action,
            'details' => $details,
            'user_id' => auth()->id(),
        ]);
    }
}

class UserController {
    use ActivityLog;

    public function updateProfile(Request $request) {
        // Update user profile

        $this->logActivity('Profile Updated', 'User updated their profile.');
    }
}

</code></pre>


</div>
  </div>
      </div>

                </div>
              </div>
            </div>
<!-- +++++++++++++++++++++++++Requests+++++++++++++++++++++++++++++++++ -->
                        <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab2')">
                  Requests
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab2">
                  <p>create a request class</p>
                  <pre><code class="language-PHP">
php artisan make:request PermissionRequest
                  </code></pre>
                  <p>Define rules and error messages in Request file</p>
                  <pre><code class="language-PHP">
    public function authorize(): bool
    {
        return true;
    }
    
    public function rules(): array
    {
        return [
            'name' => ['required','string','unique:permissions'],
        ];
        
    }

    public function messages()
    {
        return [

            'name.required' => 'Please enter a permission name',
            'name.unique' => 'Permission already exists',

        ];
    }
                  </code></pre>
                  <p>use request in controller</p>
                  <pre><code class="language-PHP">
    public function store(PermissionRequest $request)
    {
        // Attempt to create the permission
        try {
            Permission::create(['name' => $request->name]);
        } catch (Exception $e) {
            // Handle any exceptions here, if needed
            // For example, you can catch a unique constraint violation and set a custom message
            return redirect()->route('permissions')->withErrors(['name' => 'Permission already exists']);
        }

        // If successful, redirect with a success message
        return redirect()->route('permissions')->with('message', 'Permission created successfully.');
    }
                  </code></pre>
                  <p>display errors in view in form</p>
                  <pre><code class="language-PHP">
&lt;input id="t-text" type="text" name="name"  class="form-control w-25 @error('name') is-invalid @enderror" required="">
@error('name')
&lt;div class="alert alert-danger">{{ $message }}&lt;/div>
@enderror
                  </code></pre>
                </div>
              </div>
            </div>
<!-- ++++++++++++++++++++++++++++++Helper Functions++++++++++++++++++++++++++++++++++++++ -->

    <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab102')">
                  Helper Functions
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab102">
          <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab103')">
                  Create a Helper file
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab103">
                  <p>In App folder , create a new folder name Helpers , inside create a helper1.php (not class)</p>
                </div>
              </div>
            </div>

          <div class="tab-container">
              <div class="tab">
                <button class="tab-button" onclick="toggleTab('tab103')">
                  Create a Helper file
                  <span class="tab-indicator">&#9658;</span>
                </button>
                <div class="tab-content" id="tab103">
                  
                </div>
              </div>
            </div>
                </div>
              </div>
            </div>
<!-- ++++++++++++++++++++++++++++++eloquent++++++++++++++++++++++++++++++++++++++ -->

                  <div class="tab-container">
        <div class="tab">
          <button class="tab-button" onclick="toggleTab('tab105')">
            Eloquent ORM
            <span class="tab-indicator">&#9658;</span>
          </button>
<div class="tab-content" id="tab105">

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab118')">
Many To Many relationshipt query and view<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab118">

<p>Query</p>
<pre><code class="language-PHP">
$articles    = Article::with('media', 'categories','users')->get();
$recent_articles = Article::orderBy('created_at', 'desc')
                ->take(4)
                ->get();
              
$categoryID = request()->query('category_id');

if (isset($categoryID)) {
    $articles    = Article::with('media', 'categories','users');
    $articles->whereHas('categories', function ($query) use ($categoryID) {
        $query->where('categories.id', $categoryID);
    });
    $articles = $articles->get();
}

search by category, send id to same view ! 

&lt;a href="{{route('blog',['category_id' => $category->id])}}" >{{$category->name}}&lt;/a>


 $categories  = Category::withCount('articles')->get();

Display to View : 

@foreach($categories as $index =>$category)

 href="{{route('blog',['category_id' => $index])}}">{{$category->name}}( {{ $category->articles_count }})

@endforeach


</code></pre>
<p>Display to View</p>
<pre><code class="language-PHP">
Display User Name
{{$article->users->name}}

Display Categories if many
@foreach($article->categories as $index =>$category)
       {{$category->name}}
@endforeach
</code></pre>
</div>
</div>
</div>

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab117')">
GENERAL QUERIES<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab117">


  <pre><code class="language-PHP">User::all('id','name','email')</code></pre>
  <pre><code class="language-PHP">User::find(1,2)</code></pre>
  <p>Search by</p>
  <pre><code class="language-PHP">
Post::whereDate('created_at',date('Y-m-d'))
Post::whereDay('created_at',date('d'))
Post::whereMonth('created_at',date('m'))
Post::whereYear('created_at',date('Y'))
  </code></pre>
  <pre><code class="language-PHP">
    if($user->wasRecentlyCreated){
      //send mail or do something
    }
  </code></pre>
  <p>Make a Copy of a Record</p>
  <pre><code class="language-PHP">
    $post=Post::find(1)
    $newpost=$post->replicate()
    $newpost->save()
  </code></pre>
  <pre><code class="language-PHP"></code></pre>
  <pre><code class="language-PHP"></code></pre>
  <pre><code class="language-PHP"></code></pre>
  <pre><code class="language-PHP"></code></pre>
  <pre><code class="language-PHP"></code></pre>
  <pre><code class="language-PHP"></code></pre>


</div>
</div>
</div>

</div>
          </div>
        </div>

<!-- ==============================Fortify=============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab106')">
Fortify<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab106">


    <div class="tab-container">
        <div class="tab">
          <button class="tab-button" onclick="toggleTab('tab109')">
            Installation and Configuration
            <span class="tab-indicator">&#9658;</span>
          </button>
          <div class="tab-content" id="tab109">
            <p>In Config foldre App.php</p>

            <pre><code class="language-PHP">App\Providers\FortifyServiceProvider::class,</code></pre>
            <p>In Providers foldre FortifyServiceProvider.php</p>

            <pre><code class="language-PHP">
                  public function register(): void
    {
        Fortify::registerView(function(){
            return view('auth.register');
        });

        Fortify::loginView(function (){
            return view('auth.login');
        });
        Fortify::requestPasswordResetLinkView(function (){
            return view('auth.password.request');
        });

        Fortify::resetPasswordView(function (){
            return view('auth.password.edit');
        });

        Fortify::verifyEmailView(function (){
            return view('auth.verify-email');
        });

    }
             </code></pre>

            <p>Rules and Validations for creating new user</p>

            <pre><code class="language-PHP">
Actions/Fortify/CreateNewUser.php
 </code></pre>

            <p>After User Registration</p>

            <pre><code class="language-PHP">
this redirects to home page:    

In config -> fortify.php  

 'home' => RouteServiceProvider::HOME,

Change :

Providers/RouteServiceProvider.php

  public const HOME = '/home'; 

 </code></pre>


<p>For localization when passing locale as first segment</p>
<pre><code class="language-PHP">
vendor/laravel/fortify/src/Http/Responses/RegisterResponse.php

    public function toResponse($request)
    {
        return $request->wantsJson()
                    ? new JsonResponse('', 201)
                    : redirect(app()->getLocale() . '/blog' );
    }

vendor/laravel/fortify/src/Http/Responses/LoginResponse.php

    public function toResponse($request)
    {
        return $request->wantsJson()
                    ? response()->json(['two_factor' => false])
                    :redirect(app()->getLocale() . '/blog');
    }


 </code></pre>

 
          </div>
        </div>
      </div>

   <div class="tab-container">
        <div class="tab">
          <button class="tab-button" onclick="toggleTab('tab120')">
            Custom Adjustments
            <span class="tab-indicator">&#9658;</span>
          </button>
          <div class="tab-content" id="tab120">   
      <p>Assign Default Role During Registration</p>
      <pre><code class="language-PHP">

In RegisteredUserController :

 public function store(Request $request,
                          CreatesNewUsers $creator): RegisterResponse
    {
        $user = $creator->create($request->all());

        // Assign the default role
        $role = Role::where('name', 'contributor')->first(); // Adjust the role name as needed
        $user->assignRole($role);

        event(new Registered($user));

        $this->guard->login($user);

        return app(RegisterResponse::class);
    }
</code></pre>


      <p>BETTER and RIGHT way of making custom logic in fortify </p>
      <pre><code class="language-PHP">
1. First we create our custom controller and extend Fortifys RegisteredUserController :

class CustomRegisteredUserController extends RegisteredUserController

2. We copy and paste Method with same name which we want to modify :

public function store(
        Request $request,
        CreatesNewUsers $creator
    ): RegisterResponse {
        if (config('fortify.lowercase_usernames')) {
            $request->merge([
                Fortify::username() => Str::lower($request->{Fortify::username()}),
            ]);
        }

        $user                = $creator->create($request->all());
        CUSTOM CODE
        $user->trial_ends_at = Carbon::now()->addDays(7);
        $user->save();
        END CUSTOM CODE
        event(new Registered($user));

        $this->guard->login($user);

        return app(RegisterResponse::class);
    }


3.  Copy Same route from Fortifys Route and change controller with our custom controller

Route::post(RoutePath::for('register', '/register'), [CustomRegisteredUserController::class, 'store'])
    ->middleware(['guest:'.config('fortify.guard')]);
</code></pre>



      </div>
        </div>
      </div>


</div>
</div>
</div>

        <!-- ========================Array============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab108')">
Arrays<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab108">


<pre><code class="language-PHP"></code></pre>
<pre><code class="language-PHP"></code></pre>
<pre><code class="language-PHP"></code></pre>
<pre><code class="language-PHP"></code></pre>
<pre><code class="language-PHP"></code></pre>
<pre><code class="language-PHP"></code></pre>
</div>
</div>
</div>



        <!-- ========================Migration Factory Seeder============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab110')">
Migration Factory Seeder<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab110">


<pre><code class="language-PHP"></code></pre>

</div>
</div>
</div>

        <!-- ========================Different ============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab111')">
Snippets<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab111">

<p>Give class to HTML element based on condition</p>
<pre><code class="language-PHP">
  &lt;li class="{{ request()->routeIs(['admin', 'hero']) ? 'active menu' : 'menu' }}">
                    &lt;a href="{{route('admin')}}"> Analytics &lt;/a>
&lt;/li>
</code></pre>

<p>Apply/Load CSS JS only on specific routes </p>
<pre><code class="language-PHP">
    In HTML HEAD :

    @if(request()->routeIs(['users', 'roles', 'my_skills','projects']) )
        &lt;link href="{{asset('assets/custom/CSS/popup_modal.css')}}" rel="stylesheet" type="text/css"/>
    @endif
</code></pre>

<p>Pass ID to Controller for Delete/Update methods</p>
<pre><code class="language-PHP">
Form should be inside foreach :

@foreach($roles as $index=>$role)

@endforeach

In Form:

action="{{route('edit_roles',['role' => $role])}}"

In web.php :
 Route::put('/roles/update/{role}',[RoleController::class,'update'])->name('edit_roles');

 In Controller :

     public function update(Request $request, Role $role)
    {
       
        }

</code></pre>

<p>Get Model With Related Tables</p>


<pre><code class="language-PHP">
  media and skillname are jointable namespacs

$projects  = Project::with('media','skillNames')->get();

   display in View:   

@foreach($projects as $index=>$project)

    @foreach($project->media as $media)
        &lt;td>&lt;img style="width:100px;height:100px" src="{{$media->getUrl()}}">&lt;/td>
    @endforeach

&lt;td>
    @foreach ($project->skillNames as $skill)
        &lt;p>{{ $skill->skill_name }}&lt;/p>
    @endforeach
&lt;/td>
@endforeach


&lt;/td>

</code></pre>

<p>Apply Styles With Js to Classlist</p>

<pre><code class="language-PHP">
HTML

&lt;div class="tinymce-content">
  {!! $article->body !!}
&lt;/div>


JS 

  document.addEventListener('DOMContentLoaded', function () {
  // Get all elements with a class of 'tinymce-content'
  let containers = document.querySelectorAll('.tinymce-content');

  // Loop through all the containers
  containers.forEach(function (container) {
    // Find all <p> elements within the current container
    let paragraphs = container.getElementsByTagName('p');

    // Loop through the <p> elements and add the desired class to each
    for (let i = 0; i < paragraphs.length; i++) {
      paragraphs[i].classList.add('aai-post-details-text', 'mb-4');
    }
  });
});
</code></pre>

<p>One to Many relationship query Examples</p>

<pre><code class="language-PHP">
  Article Category has One to Many relationship

  Get all articles with associate category ids :

   public function edit(Article $article)
    {
        $categories = Category::all();
        $article_category=$article->categories->pluck('id')->toArray();


        return view('admin.blog.edit_article',
            compact('article', 'categories','article_category'));
    }

    Check if CategoryId is in array of articles categories in_array() :

&lt;select id="select-state" name="categories[]" multiple placeholder="Select Category..." autocomplete="off">
    @foreach($categories as $category)
        &lt;option value="{{$category->id}}" {{in_array($category->id,$article_category) ? 'selected' : ''}}   >{{$category->name}}&lt;/option>
    @endforeach
&lt;/select>
</code></pre>


</div>
</div>
</div>

        <!-- ========================CRUD============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab119')">
CRUD<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab119">


<pre><code class="language-PHP">

</code>
</pre>

</div>
</div>
</div>
        <!-- ========================Factory Seeder migration============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab115')">
Factories Seeders Migrations<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab115">

<p>Factory</p>
<pre>
  <code class="language-PHP">
      public function definition(): array
    {
        return [
            'user_id'=>User::all()->random()->id,
            'title'=>fake()->unique()->sentence,
            'excerpt'=>fake()->paragraph(2, true ),
            'description'=>fake()->paragraph(8, true),
            'min_to_read'=>fake()->randomNumber(1, 10),
            'is_published'=>fake()->boolean()
            'role' =>fake()->randomElement(['user', 'admin','super_admin']),
        ];
    }

    In DatabaseSeeder directly call factory :

        \App\Models\User::factory(50)->create();
        \App\Models\Article::factory(100)->create();
</code>
</pre>

</div>
</div>
</div>


        <!-- ========================Collections============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab114')">
Collections & Eloquent Methods<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab114">


<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab113')">
WHERE FAMILY<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab113">

<p>Where()</p>
<pre><code class="language-PHP">
  Get particular article collection with ID 5
  Article::where('id',5)
  ->get()
  
  Get All Articles where ID is greater 40
  Article::where('id','>',40)
  ->get()

  Chain Where methods, 
  $data = Article::where('is_published', true)
              ->where('min_to_read', 9)
             
              ???
  $data = Article::where(function($query){
              return $query->where('is_published', true);
          });


  Article::where('min_to_read','>',8)
    ->where('is_published',true)
    ->get();

</code>
</pre>

<p>whereStrict()</p>
<pre><code class="language-PHP">
  This wil get all Constantine with only uppercase
  whereStrict('name','Constantine')

</code>
</pre>

<p>whereBetween()</p>
<pre><code class="language-PHP">
  Returns a collection with giving range
  Article::whereBetween('min_to_read', [5,9])->get();

  Can be chained with where()
  Article::whereBetween('min_to_read', [5,9])
            ->where('is_published', true)
            ->get();

</code>
</pre>
<p>whereIn()</p>
<pre><code class="language-PHP">
  Get All users with given Roles:

  $roles=['admin','super_admin'];

  role is the column name , second argument array with values
  User::whereIn('role', $roles)->get();

</code>
</pre>


<p>whereInNot()</p>
<pre><code class="language-PHP">

    $roles=['admin','super_admin'];
    
    Get all users whos role is not $roles
    User::whereNotIn('role', $roles)->get();
  
</code>
</pre>

<p>whereNull()</p>
<pre><code class="language-PHP">
    $roles=['admin','super_admin'];
    
    Get all articles which has column excertp Null
    Article::whereNull('excerpt')->get()
    Article::whereDate('created_at','2023-10-12')->get()
  
</code>
</pre>
<p>whereDate()</p>
<pre><code class="language-PHP">
 
    Article::whereDate('created_at','2023-10-12')->get()
  
</code>
</pre>
</code>
</pre>
<p>whereMonth()</p>
<pre><code class="language-PHP">
     November , regardless the year
    Article::whereMonth('created_at',11)->get()
  
</code>
</pre>
<p>whereYear()</p>
<pre><code class="language-PHP">
   
    Article::whereYear('created_at',2023)->get()
  
</code>
</pre>
<p>whereTime()</p>
<pre><code class="language-PHP">
    HH:MM::SS
    Article::whereTime('created_at','09:00:00')->get()
  
</code>
</pre>

</div>
</div>
</div>

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab122')">
Filter() REJECT()<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab122">
  
 <p>filter()</p> 
<pre>
<code class="language-PHP">
Its particularly good when we need to extract data with 
specific criteria

$data = Article::where('is_published',true)->get();

$data2=$data->filter(function($article){
    return $article->min_to_read >8;
});

Can pass second argument to function which will be as key

</code>
</pre>


</div>
</div>
</div>




<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab121')">
CRUD<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab121">

<pre>
<code class="language-PHP">
Article::where('min_to_read', '<', 5)->update(['excerpt'=>null])
</code>
</pre>


</div>
</div>
</div>


<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab112')">
GENERAL<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab112">


<pre>
<code class="language-PHP">
// count()

 Article::count();

 is_published is a column name (method chaining)
 Article::where('is_published',true)->count()

 // countBy()

 user_id is in Articles table,Returns Array with user_id as key and article count
 Article::pluck('user_id')->countBy();

 // max() returns maximum value of a column

 Article::max('min_to_read');

 user_id 3 has two articles 8 min and 7 min , this will return 8
 Article::whereBetween('user_id',[3,3])->max('min_to_read');

 // min() returns minimum value of a column

 Article::whereBetween('user_id',[3,3])->min('min_to_read');

 // midean() 

 if valus are 2 5 10 , will return 5 , Middle value between 2 and 10 
 Article::pluck('min_to_read')->median()

 // mode() get frequently occuring value in dataset , returns array

 get user ID which has most articles
 Article::pluck('user_id')->mode() 

 get user ID which has most articles published
 Article::where('is_published',true)->pluck('user_id')->mode()

 // inRandomOrder()  get random items

 get One random article
 Article::inRandomOrder()->first()

 get Five random articles
 Article::inRandomOrder()->take(5)->get();

 get Only ID of random article
 Article::inRandomOrder()->value('id');

 // sum() get sum of the column

 time to read all articles
 Article::sum('min_to_read')
</code>
</pre>


<pre>
<code class="language-PHP">

</code>
</pre>

</div>
</div>
</div>


</div>
</div>
</div>



       <!-- ========================Packages============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab123')">
PACKAGES <span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab123">

 
       <!-- ========================Socialite Package============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab124')">
SOCIALITE<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab124">


<h2>GITHUB</h2>
<p>https://github.com/settings/developers</p>
<div><img width="450px" src="assets/github.png"></div>
<h2>GOOGLE</h2>
<p>gogle cloud -> new project-> APIs & Services -> Create OAuth client ID</p>
<div><img width="450px" src="assets/google.png"></div>
<h2>FACEBOOK setup</h2>
<pre><code class="language-PHP">
  developers.facebook.com
1. Create APP
2. Use Cases -> Use case permissions -> email
3. Basic Settings -> Site URL -> https://localhost:8000/
</code>
</pre>

<div></div>

<p>in Config/Service.php</p>
<pre><code class="language-PHP">
    'github' => [
       'client_id'=> env('GITHUB_CLIENT_ID'),
       'client_secret' => env('GITHUB_CLIENT_SECRET'),
       'redirect' => env('GITHUB_CALLBACK_URI'),
    ],
    'google' => [
        'client_id'=> env('GOOGLE_CLIENT_ID'),
        'client_secret' => env('GOOGLE_CLIENT_SECRET'),
        'redirect' => env('GOOGLE_CALLBACK_URI'),
    ],

    'facebook' => [
        'client_id'=> env('FACEBOOK_CLIENT_ID'),
        'client_secret' => env('FACEBOOK_CLIENT_SECRET'),
        'redirect' => env('FACEBOOK_CALLBACK_URI'),
    ],
</code>
</pre>

<p>in .env file</p>
<pre><code class="language-PHP">
GITHUB_CLIENT_ID=b68d077e9a1bc321a8dc
GITHUB_CLIENT_SECRET=4f336dea9fea114b70c2538c04b4b297c7a94588
GITHUB_CALLBACK_URI=http://127.0.0.1:8000/auth/github/callback

GOOGLE_CLIENT_ID=323338657631-u32btmbo6526i61r642bvepvhtuumsde.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CALLBACK_URI=http://127.0.0.1:8000/auth/google/callback

FACEBOOK_CLIENT_ID=336287408957327
FACEBOOK_CLIENT_SECRET=5f138325ea3f585e1e78dfb29ec7e585
FACEBOOK_CALLBACK_URI=http://localhost:8000/auth/facebook/callback
</code>
</pre>


<p>Create migration and add columns to USERS table</p>
<pre><code class="language-PHP">
    $table->string('provider_id')->nullable();
    $table->string('nickname')->nullable();
    $table->string('provider')->nullable();
</code>
</pre>


<p>create routes </p>
<p>We an create separate routes or one route and pass a parameter from URI </p>
<pre><code class="language-PHP">
// separate routes 
Route::get('auth/github/redirect', [SocialiteController::class, 'githubredirect'])->name('github.login');
Route::get('auth/github/callback', [SocialiteController::class, 'githubcallback']);
Route::get('auth/google/redirect', [SocialiteController::class, 'googleredirect'])->name('google.login');
Route::get('auth/google/callback', [SocialiteController::class, 'googlecallback']);

// One route 
Route::get('auth/{provider}/redirect/', [SocialiteController::class, 'redirect'])->name('social.login');
Route::get('auth/{provider}/callback', [SocialiteController::class, 'callback']);
</code>
</pre>

<p>In View add anchor tags for routes</p>

<pre><code class="language-PHP">
// separate routes 

  &lt;a href="{{route('google.login')}}">GOOGLE LOGO&lt;/a>
  &lt;a href="{{route('facebook.login')}}">GOOGLE LOGO&lt;/a>

// One route 
  &lt;a href="{{route('social.login')}}">GOOGLE LOGO&lt;/a>

</code>
</pre>

<p>Create Controller for SOCIALITE</p>

<pre><code class="language-PHP">

  Separate Methods 

  //    GITHUB
    public function githubredirect()
    {
        return Socialite::driver('github')->redirect();
    }

    public function githubcallback()
    {
        try {
            $user = Socialite::driver('github')->user();

//            dd($user);
            $github_user = User::updateOrCreate([
                'github_id' => $user->id
            ], [
                'name' => $user->nickname,
                'nickname' => $user->nickname,
                'auth_type' => 'github',
                'email' => $user->email,
                'github_token'=>$user->token,
                'password'=>Hash::make(Str::random(10))]);

            Auth::login($github_user);
           return redirect('/dashboard');

        } catch (Exception $e) {
          dd($e);
        }
    }

    // GOOGLE

    public function googleredirect()
    {
        return Socialite::driver('google')->redirect();
    }

    public function googlecallback()
    {
        try {
            $user = Socialite::driver('google')->user();

            $google_user = User::updateOrCreate([
                'github_id' => $user->id
            ], [
                'name' => $user->name,
                'auth_type' => 'google',
                'email' => $user->email,
                'password'=>Hash::make(Str::random(10))]);

            Auth::login($google_user);
            return redirect('/dashboard');

        } catch (Exception $e) {
            dd($e);
        }
    }


    Single method for all social login


    public function redirect($provider){

        return Socialite::driver($provider)->redirect();

    }

    public function callback($provider){

        try {
            $user = Socialite::driver($provider)->stateless()->user();
            if(User::where('email',$user->getEmail())->exists() &&
                !User::where('email', $user->getEmail())->where('provider', $provider)->exists()
                ) {
                return redirect('login')->withErrors(['email'=>'Account with this email already registered']);
            }
            $social_user = User::updateOrCreate([
           // in user migration should be provider_id table or something
                'provider_id' => $user->id,
                'email'=>$user->email,
            ], [
                //  in user migration should be provider table
                'provider' => $provider,
                'name' => $user->name ?? $user->nickname,
                'email' => $user->email,
                'provider_token'=>$user->token,
                'password'=>Hash::make(Str::random(10)),
                'email_verified_at'=>now()
            ]);


            Auth::login($social_user);
            return redirect('/dashboard');
        } catch (Exception $e){
            dd($e);
        }

    }





</code>
</pre>



</div>
</div>
</div> 




</div>
</div>
</div>

       <!-- ========================Languages Localization============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab125')">
Multi Lang Localization<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab125">

<p>STATIC LOCALIZATION</p>
<pre><code class="language-PHP">
== Create Lang folder in Laravel :

  php artisan lang:publish

== In Lang folder create json files for static translations :

  en.json ka.json ru.json

== Set static translations in each file :

{
  "LOG_IN": "Sign in",
  "LOG_IN_DESCR":"Enter your email and password to login",
  "EMAIL_TEXT": "Email",
  "PASSWORD_TEXT": "Password",
  "FORGOT_PASSWORD_TEXT": "Forgot Password",
  "SOCIAL_LOGIN_TEXT": "or continue with",
  "DONT_HAVE_ACCOUNT_TEXT": "Don't have an account ?",
  "SIGN_UP_TEXT": "Sign Up",
  "SIGNING_TEXT": "SIGN IN"
}

== Use translations in VIEW files : 

{{ __('LOG_IN') }}

</code>
</pre>

<p>Setting up Middleware</p>

<pre><code class="language-PHP">
php artisan make:middleware SetLocale

  app()->setLocale($request->segment(1)); // <-- Set the application locale
  Carbon::setLocale($request->segment(1)); // <-- Set the Carbon locale

  URL::defaults(['locale' => $request->segment(1)]); // <-- Set the URL defaults
  // (for named routes we won't have to specify the locale each time!)

  return $next($request);

  Use in Routes : 

In FORTIFY CustomRegisteredUserController : 

return app(app()->getLocale() . RouteServiceProvider::HOME);

</code>
</pre>

<p>In Routes</p>
<pre><code class="language-PHP">
Route::get('/', function () {
    return redirect(app()->getLocale()); // <-- Handles redirect with no locale to the current locale
});


Route::prefix('{locale}') // <-- Add the locale segment to the URL
->where(['locale' => '[a-zA-Z]{2}']) // <-- Add a regex to validate the locale
->middleware('Setlocale') // <-- Add the middleware
->group(function () {
    Route::get('/', function () {
        return view('index');
    })->name('index');
});
</code>
</pre>

<p>Adjust Fortify Service Provider for login logout redirections</p>
<pre><code class="language-PHP">
  $this->app->instance(LoginResponse::class, new class implements LoginResponse {
      public function toResponse($request)
      {


          return redirect($request->segment(1) . RouteServiceProvider::HOME);
      }
  });


  $this->app->instance(LogoutResponse::class, new class implements LogoutResponse {
      public function toResponse($request)
      {
          return  redirect( '/'. $request->segment(1)  );
      }
  });
</code>
</pre>


  <p>Authenticate.php </p>
<pre><code class="language-PHP">

  Redirect user if not authenticated, its for long inactivity also when session ends 

return $request->expectsJson() ? null : route('login', ['locale' => app()->getLocale()]);

</code>
</pre>

  <p>Spatie Translatable </p>
<pre><code class="language-PHP">
In Model

use HasTranslations;

Add translatable column array; 

public array $translatable = ['title', 'body','slug'];
</code>
</pre>


</div>
</div>
</div>





</div>
</div>
</div>



       <!-- ========================EVENTS============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab150')">
EVENTS and LISTENERS<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab150">


<p>Instead of registering events and listeners manually in the $listen array of the EventServiceProvider, you can enable automatic event discovery.</p>
<a href="https://laravel.com/docs/10.x/events#event-discovery" target="_blank">Laravel Docs</a>
<pre><code class="language-PHP">
  public function shouldDiscoverEvents(): bool
    {
        return true;
    }
</code></pre>


<p>Artisan Commands</p>
<pre><code class="language-PHP">
php artisan make:event PodcastProcessed
 
php artisan make:listener SendPodcastNotification --event=PodcastProcessed
</code>
</pre>

<p>Mail</p>
<pre><code class="language-PHP">


  
</code>
</pre>

<pre><code class="language-PHP">


  
</code>
</pre>


</div>
</div>
</div>


       <!-- ========================Exceptions and Errors============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab149')">
Exceptions<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab149">

<p>To return custom 404 or other error CODE pages in view we create folder "errors" and inside blade templates with code.blade.php</p>
<pre><code class="language-PHP">
404.blade.php
500.blade.php

</code>
</pre>

<p>In the code snippet, DB::beginTransaction() initiates the transaction, and then you perform your database operations within the try block. If an exception is thrown or an error occurs, you use DB::rollBack() to undo the changes made within the transaction. If everything goes well, you use DB::commit() to save the changes to the database.

</p>
<pre><code class="language-PHP">
DB::beginTransaction(); // Start the transaction

try {
    // Perform your database operations here
    // If any of these operations fail or throw an exception, you can roll back the transaction
    DB::commit(); // If everything is successful, commit the transaction
} catch (Exception $e) {
    DB::rollBack(); // If an exception occurs, roll back the transaction to undo any changes
    // Handle the exception or error as needed
}
</code>
</pre>

<pre><code class="language-PHP">

</code>
</pre>




</div>
</div>
</div>




       <!-- ========================URL ROUTES============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab200')">
URL and ROUTES<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab200">


<pre><code class="language-PHP">
@auth
     &lt;a href="{{ url('/home') }}">
@else
-------------------------------------------
  @if (Route::has('register'))
      &lt;a href="{{ route('register') }}"> 
  @endif
-------------------------------------------
</code>
</pre>


<pre><code class="language-PHP">

</code>
</pre>



</div>
</div>
</div>




       <!-- ========================CARBON DATE AND TIME============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab201')">
CARBON DATE AND TIME<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab201">

<p>Trial Period Column in Users Table</p>
<pre><code class="language-PHP">
1. Add Column To Users Table :

 $table->timestamp('trial_ends_at')->nullable();


2. Create custom registration logic and OVERRIDE fortify logic :

   public function store(
        Request $request,
        CreatesNewUsers $creator
    ): RegisterResponse {
        if (config('fortify.lowercase_usernames')) {
            $request->merge([
                Fortify::username() => Str::lower($request->{Fortify::username()}),
            ]);
        }

        $user                = $creator->create($request->all());

        Add trial period end time when user is registered
        $user->trial_ends_at = Carbon::now()->addDays(7);
        $user->save();


        event(new Registered($user));

        $this->guard->login($user);

        return app(RegisterResponse::class);
    }



3. Add Rule to Check  in Users MODEL :

public function isWithinTrialPeriod()
    {
        return $this->trial_ends_at && Carbon::now()->lt($this->trial_ends_at);
    }


4. Use method in View to check TRIAL period : 

if ($user->isWithinTrialPeriod()) {
    // User is within the trial period
} else {
    // Trial period has ended
}

5. We can Create Middleware if we want (we need to make ALIAS for middleware also): 

php artisan make:middleware TrialPeriod

public function handle($request, Closure $next)
{
    if (auth()->check() && auth()->user()->isWithinTrialPeriod()) {
        return $next($request);
    }

    // Redirect or return an error response
}

</code>
</pre>

</div>
</div>
</div>


       <!-- ========================EMAIL============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('email')">
MAIL<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="email">


<pre><code class="language-PHP">

</code>
</pre>



</div>
</div>
</div>

       <!-- ========================REST API & POSTMAN============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('api-postman')">
POSTMAN<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="api-postman">


<pre><code class="language-PHP">

</code>
</pre>

&lt;

</div>
</div>
</div>

       <!-- ========================AJAX============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('ajax')">
AJAX <span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="ajax">


<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('ajax-js-form')">
Vanilla JS Form Submission and Errors<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="ajax-js-form">

<p>HTML Form</p>
<pre>
  <code class="language-HTML">
&lt;meta name="CSRF" content="{{ csrf_token() }}">

    &lt;form id="myForm">
        &lt;label for="name">Name:&lt;/label>
        &lt;input type="text" name="name">
        &lt;div id="name-error">&lt;/div>

        &lt;label for="email">Email:&lt;/label>
        &lt;input type="text" name="email">
        &lt;div id="email-error">&lt;/div>

        &lt;button type="submit">Submit&lt;/button>
    &lt;/form>
    &lt;div id="success">&lt;/div>
</code>
</pre>


<p>Controller With Custom Errors</p>
<pre><code class="language-PHP">
    public function submitForm(Request $request)
    {
       // Validate the form data
        $messages = [
            'email.required' => 'We need Email',
            'email.email' => 'Need Valid Email',
            'name.required' => 'We need Name',
            'name.max' => 'Name is too long',

        ];
        $validator = Validator::make($request->all(), [
            'name' => 'required|string|max:20',
            'email' => 'required|email|max:50',
            // Add more validation rules as needed
        ], $messages);

        // If validation fails, return the errors
        if ($validator->fails()) {
            return response()->json(['errors' => $validator->errors()], 422);
        }

        // Process the form data here (save to database, etc.)

        // Return a success response if everything is fine
        return response()->json(['success' => 'Form submitted successfully!']);
    }
</code>
</pre>

<p>Vanilla JS Ajax</p>
<pre><code class="language-js">
  document.getElementById('myForm').addEventListener('submit', function (event) {
        event.preventDefault();

        // Fetch API to send form data to the server
        fetch('{{ route('ajax-call') }}', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json',
                'X-CSRF-Token': document.querySelector('meta[name="CSRF"]').content,
            },
            body: JSON.stringify(Object.fromEntries(new FormData(event.target))),
        })
            .then(response => response.json())
            .then(data => {
                if (data.errors) {
                    // Display validation errors

                    if (data.errors.name) {
                        document.getElementById('name-error').innerHTML = Object.values(data.errors.name).flat().join('<br>');
                    } else {
                        document.getElementById('name-error').innerHTML = '';
                    }
                    if (data.errors.email) {
                        document.getElementById('email-error').innerHTML = Object.values(data.errors.email).flat().join('<br>');
                    } else {
                        document.getElementById('email-error').innerHTML = '';
                    }
                } else {
                    // Display success message and clear errors
                    document.getElementById('success').innerHTML = data.success;
                    document.getElementById('email-error').innerHTML = '';
                    document.getElementById('name-error').innerHTML = '';
                }
            })
            .catch(error => console.error('Error:', error));
    });
</code>
</pre>

&lt;

</div>
</div>
</div>

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('ajax-js-form2')">
Vanilla JS Multiple checkboxes<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="ajax-js-form2">


<pre><code class="language-PHP">

</code>
</pre>

&lt;

</div>
</div>
</div>

</div>
</div>
</div>



       <!-- ========================blank============================== -->

<div class="tab-container">
<div class="tab">
<button class="tab-button" onclick="toggleTab('tab107')">
blank<span class="tab-indicator">&#9658;</span>
</button>
<div class="tab-content" id="tab107">


<pre><code class="language-PHP">

</code>
</pre>

&lt;

</div>
</div>
</div>

    </main>
    <script src="assets/prism.js"></script>
    <script src="assets/script.js"></script>
  </body>
</html>
