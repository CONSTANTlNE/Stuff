<!DOCTYPE html>
<html>
  <body>
    <!-- This is your HTML template -->
    <template id="myTemplate">
      <p class="ptag">
        <span>Welcome to OpenAI, user </span><span class="userNum"></span>!
        <button class="removeButton">Remove</button>
      </p>
    </template>

    <!-- This is where your template will be appended -->
    <div id="myDiv"></div>

    <!-- This is your button -->
    <button id="myButton">Show Welcome Message</button>

    <script>
      // Initialise the user number
      var userNum = 1;

      document
        .getElementById("myButton")
        .addEventListener("click", function () {
          // Get the template and clone it
          var template = document.getElementById("myTemplate");
          var clonedTemplate = document.importNode(template.content, true);

          // Set the user number and ptagX class in the cloned template
          var ptag = clonedTemplate.querySelector(".ptag");
          ptag.classList.add("ptag" + userNum);
          ptag.querySelector(".userNum").textContent = userNum;

          // Append the cloned template to the div
          document.getElementById("myDiv").appendChild(clonedTemplate);

          // Increment the user number
          userNum++;
        });

      // Delegate the event
      document.getElementById("myDiv").addEventListener("click", function (e) {
        if (e.target.className === "removeButton") {
          // Remove the parent node (the paragraph)
          e.target.parentNode.remove();
        }
      });
    </script>
  </body>
</html>
